@model Lcapas.Core.Library.CollMissingGradeReportViewObj

@section JavaScriptVariables {
    <script type="text/javascript">
    var ExportReportPath = '@Url.Action("ExportReports", "Reports")';
    var PrintReportPath = '@Url.Action("PrintReports", "Reports")';
    var PrintQueryPath = '@Url.Action("PrintQuery", "Reports")';
    </script>
}

@section JavaScript {
    <script src="@Url.Content("~/Scripts/lcapas-settings.js?<?=time()?>")" type="text/javascript"></script>
}

@section Styles {
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
}
@section Menu {
    @RenderPage("~/Views/Menu/_ReportsMenu.cshtml")
}

@Html.AntiForgeryToken()

<div class="container">
    <h2>@Model.PageTitle</h2>
    <div class="paging">
        @if (Model.CollMissingGradeReportSearchFilter != null)
        {
            <div class="page-print">
                <input id="excelMissingGradeReportBtn" type="button" value="Export to Excel" class="button" />
            </div>
            <div class="page-print">
                <input id="prntMissingGradeReportBtn" type="button" value="Print Reports" class="btn btn-default button pull-right hor-pad" />
            </div>
            <div class="page-print">
                <input id="prntMissingGradeQueryBtn" type="button" value="Query Report" class="btn btn-default button pull-right hor-pad" />
            </div>
            <div class="page-last">
                @if (Model.Pagination.PageIndex < Model.Pagination.PageCount)
                {
                    <input id="lastPage" type="image" title="Last Page" value="" src="~/Content/images/last.png" class="button" />
                }
            </div>
            <div class="page-next">
                @if (Model.Pagination.PageIndex < Model.Pagination.PageCount)
                {
                    <input id="nextPage" type="image" title="Next Page" value="" src="~/Content/images/next.png" class="button" />
                }
            </div>
            <div class="page-num">
                @Html.LabelFor(m => m.Pagination.PageIndex, new { @class = "control-label" }) @Html.DisplayFor(m => m.Pagination.PageIndex, new { @class = "text ui-widget-content ui-corner-all" }) of @Html.DisplayFor(m => m.Pagination.PageCount, new { @class = "text ui-widget-content ui-corner-all" })
            </div>
            <div class="page-prev">
                @if (Model.Pagination.PageIndex > 1)
                {
                    <input id="prevPage" type="image" title="Previous Page" value="" src="~/Content/images/prev.png" class="button" />
                }
            </div>
            <div class="page-first">
                @if (Model.Pagination.PageIndex > 1)
                {
                    <input id="firstPage" type="image" title="First Page" value="" src="~/Content/images/first.png" class="button" />
                }
            </div>
            <div class="page-size">
                @Html.LabelFor(m => m.Pagination.PageSizes, new { @class = "control-label" })
                @Html.DropDownListFor(m => m.Pagination.PageSize, Model.Pagination.PageSizes, string.Empty, new { @id = "pSize", @class = "text ui-widget-content ui-corner-all" })
            </div>
            <div class="page-results">
                @Html.LabelFor(m => m.Pagination.RecCount, new { @class = "control-label" })
                @Html.DisplayFor(m => m.Pagination.RecCount, new { @class = "text ui-widget-content ui-corner-all" })
            </div>
        }
    </div>
    <br />
    <div id="table-container">
        @using (Html.BeginForm("CollMissingGradeReport", "Reports", FormMethod.Post, new { DefaultButton = "search-btn", id = "submitForm" }))

        {
            <table id="data-tbl" class="TFtable display">
                <thead class="tableHeader">
                    <tr class="tableHeader">
                        <th></th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.Course, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.Sec, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.StuID, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.StuLastName, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.StuFirstName, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.InstrID, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.InstrLastName, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.InstrFirstName, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.FinGrade, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.VerGrade, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.MidTerm, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.LastDateAttend, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.NvrAttend, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.Dept, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.SecStarts, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.SecEnds, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.AcdLv, new { @class = "control-label" })
                        </th>
                        <th>
                            @Html.LabelFor(m => m.CollMissingGradeReportSearchFilter.Term, new { @class = "control-label" })
                        </th>
                        <th colspan="2" />
                    </tr>
                    <tr class="tableHeader hide-scroll">
                        <th id="selectAll" title="Select All">
                            <input id="SelectAll" type="checkbox" class="text" checked>
                        </th>
                        <th title="Full Name" class="col-xw-200">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.Course, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-200" })
                        </th>
                        <th title="Alien Status" class="col-xw-60">
                            @Html.ListBoxFor(m => m.CollMissingGradeReportSearchFilter.Sec, Model.ColleagueAlienStatusSelectedList, new { @class = "multi-select col-xw-30" })
                        </th>
                        <th title="Status" class="col-xw-50">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.StuID, new { @id = "pSize", @class = "text ui-widget-content ui-corner-all searchfield col-xw-50" })
                        </th>
                        <th title="Cond. Program" class="col-xw-80">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.StuLastName, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-80" })
                        </th>
                        <th title="Cond. Status" class="col-xw-50">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.StuFirstName, new { @id = "pSize", @class = "text ui-widget-content ui-corner-all searchfield col-xw-50" })
                        </th>
                        <th title="Phone1" class="col-xw-80">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.InstrID, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-80" })
                        </th>
                        <th title="Type1" class="col-xw-20">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.InstrLastName, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-20" })
                        </th>
                        <th title="Phone2" class="col-xw-80">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.InstrFirstName, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-80" })
                        </th>
                        <th title="Type2" class="col-xw-20">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.FinGrade, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-20" })
                        </th>
                        <th title="Deadline" class="col-fw-100">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.VerGrade, "{0:yyyy-MM-dd}", new { @class = "text ui-widget-content ui-corner-all datepicker date-mask searchfield col-md-7" })
                        </th>
                        <th title="Start Term" class="col-xw-70">
                            @Html.ListBoxFor(m => m.CollMissingGradeReportSearchFilter.MidTerm, Model.ColleagueTermSelectedList, new { @id = "term", @class = "multi-select col-xw-70" })
                        </th>
                        <th title="Location" class="col-xw-40">
                            @Html.ListBoxFor(m => m.CollMissingGradeReportSearchFilter.LastDateAttend, Model.ColleagueLocationSelectedList, new { @class = "multi-select col-xw-40" })
                        </th>
                        <th title="Comments - Case Sensitive" class="col-xw-100">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.NvrAttend, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-100" })
                        </th>
                        <th title="Comments - Case Sensitive" class="col-xw-100">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.Dept, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-100" })
                        </th>
                        <th title="Comments - Case Sensitive" class="col-xw-100">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.SecStarts, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-100" })
                        </th>
                        <th title="Comments - Case Sensitive" class="col-xw-100">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.SecEnds, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-100" })
                        </th>
                        <th title="Comments - Case Sensitive" class="col-xw-100">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.AcdLv, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-100" })
                        </th>
                        <th title="Comments - Case Sensitive" class="col-xw-100">
                            @Html.TextBoxFor(m => m.CollMissingGradeReportSearchFilter.Term, new { @class = "text ui-widget-content ui-corner-all searchfield col-xw-100" })
                        </th>
                        <th title="Clear" class="col-xw-20">
                            <input id="clear-btn" type="image" title="Clear" src="~/Content/images/eraser_small.png" class="submit-btn" onclick="location.href='@Url.Action("CollOverduesReport", "Reports")';return false;" />
                        </th>
                        <th title="Search" class="col-xw-40">
                            <input id="search-btn" type="image" title="Search" src="~/Content/images/search.png" class="submit-btn" />
                            @Html.HiddenFor(m => m.Pagination.PageIndex, new { id = "hf-pIndex" })
                            @Html.HiddenFor(m => m.Pagination.PageSize, new { id = "hf-pSize" })
                            @Html.HiddenFor(m => m.Pagination.PageCount, new { id = "hf-pCount" })
                            @Html.HiddenFor(m => m.Pagination.RecCount, new { id = "totalRes" })
                        </th>
                    </tr>
                </thead>
                <tbody class="hide-scroll">
                    @if (Model.CollMissingGradeReportSearchResultsFilter.Count > 0)
                    {
                        foreach (var item in Model.CollMissingGradeReportSearchResultsFilter)
                        {
                            <tr class=" tableBody">
                                <td>
                                    <input type="checkbox" name="@item.StuID;@item.Course;" checked>
                                </td>
                                <td>
                                    @item.Course
                                </td>
                                <td>
                                    @item.Sec
                                </td>
                                <td>
                                    @item.StuID
                                </td>
                                <td>
                                    @item.StuLastName
                                </td>
                                <td>
                                    @item.StuFirstName
                                </td>
                                <td>
                                    @item.InstrID
                                </td>
                                <td>
                                    @item.InstrLastName
                                </td>
                                <td>
                                    @item.InstrFirstName
                                </td>
                                <td>
                                    @item.FinGrade
                                </td>
                                <td class="col-xw-80">
                                <td>
                                    @item.VerGrade
                                </td>
                                <td>
                                    @item.MidTerm
                                </td>
                                <td colspan="3">
                                    @item.LastDateAttend.Value.ToString("yyyy/MM/dd")
                                </td>
                                <td>
                                    @item.VerGrade
                                </td>
                                <td>
                                    @item.MidTerm
                                </td>
                                <td colspan="3">
                                    @item.NvrAttend
                                </td>
                                <td>
                                    @item.Dept
                                </td>
                                <td>
                                    @item.SecStarts.Value.ToString("yyyy/MM/dd")
                                </td>
                                <td colspan="3">
                                    @item.SecEnds.Value.ToString("yyyy/MM/dd")
                                </td>
                                <td>
                                    @item.AcdLv
                                </td>
                                <td colspan="3">
                                    @item.Term
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="35" style="color:red;text-align:center;">
                                <br />No records found.
                                <br />Please enter search parameters and click 'Search'. <br />
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
    <div id="bottom_anchor"></div>
    <br />
</div>